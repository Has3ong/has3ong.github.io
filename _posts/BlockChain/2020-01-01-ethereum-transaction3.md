---
title : Ethereum Transaction -3-
tags :
- Recipient
- Gas
- Transaction
- Ethereum
- BlockChain
---

*이 포스트는 [Mastering Ethereum](https://github.com/ethereumbook/ethereumbook)를 바탕으로 작성하였습니다.*

## Transaction Gas

Gas 는 이더리움의 연료입니다. 가스는 이더가 아니라 이더에 대한 자체 환율을 가진 별도의 가상화폐라고 보시면 됩니다. 이더리움 은 가스를 사용하여 트랜잭션이 사용할 수 있는 자원의 양을 제어합니다.

가스는 이더 가치의 급격한 변화와 함께 발생할 수 있는 변동성으로부터 시스템을 보호하고, 가스가 지급하는 다양한 자원의 비용사이의 중요하고 민감한 비율을 관리하기 위해 가스를 이더와 분리합니다.

트랜잭션의 `gasPrice` 필드는 트랜잭션 생성자가 가스와 교환하여 지급할 가격을 설정할 수 있게합니다. 가격은 가스 단위당 wei 단위로 측정됩니다.

지갑은 신속한 트랜잭션 컨펌을 위해 `gasPrice` 를 조정할 수 있습니다. `gasPrice` 가 높을수록 트랜잭션이 더 빨리 컨펌될것이며, 우선순위가 낮은 트랜잭션은 낮은 가격을 설정하여 컨펌이 느려지게 할 수 있습니다. `gasPrice` 가 설정할 수 있는 최솟값은 0이고, 이것은 수수료 없는 트랜잭션을 의미합니다. 블록 공간에 대한 수요가 낮은 기간에는 수수료가 0인 트랜잭션도 블록에 포함될 수 있습니다.

> gasPrice 가 0인경우 지갑이 완전히 무료 트랜잭션을 생성할 수 있음을 의미한다.

web3 인터페이스를 이용하여 여러 블록에 걸친 중간 가격을 계산하여 `gasPrice` 를 제안하는 기능을 제공한다.

```shell
> web3.eth.getGasPrice(console.log)
> null BigNumber { s: 1, e: 10, c: [ 10000000000 ] }
```

가스와 관련된 2 번째 중요한 필드는 `gasLimit` 입니다. 간단히 말하면 트랜잭션을 완료하기위해 트랜잭션을 시도하는 사람이 기꺼이 구매할 수 있는 최대 가스 단위 수를 제공합니다.

하나의 EOA 에서 다른 EOA 로 이더를 전송하는 트랜잭션을 의미하며, 필요한 가스 양은 21,000 개의 가스 단위로 고정됩니다. 얼마나 많은 양의 이더가 소비되는지 알고싶으면 지급하고자 하는 `gasPrice`에 21,000 을 곱하면 됩니다.


```shell
> web3.eth.getGasPrice(function(err, res) {console.log(res*21000)} )
> 210000000000000
```

### Transaction Recipient

to 필드에 트랜잭션 수신자가 지정이 된다. 이것은 20 byte 이더리움 주소를 포함합니다. 주소는 EOA 또는 컨트랙트에 주소일 수 있습니다.

이더리움은 이 필드를 검증하지 않습니다. 모든 20 byte 값은 유효한 것으로 간주합니다. 20 byte 값이 개인키가 없거나 상응하는 컨트랙트가 없는 주소의 경우에도 트랜잭션은 여전히 유효합니다. 이더리움은 주소가 공개키에서 올바르게 파생되었는지 여부를 알 수 있는 방법이 없습니다.

> 이더리움 프로토콜은 트랜잭션의 수신자 주소를 검증하지 않습니다. 해당하는 개인키 또는 컨트랙트가 없는 주소로 보내질 수 있습니다. 그러면 이더가 burning 되어 영구적으로 사용할 수 없게됩니다. 유효성 검사는 사용자 인터페이스 수준에서 수행되어야 합니다.

이더를 연소시키는 데는 여러가지 정당한 이유가 있을 수 있습니다. 예를 들면, 지급 채널 및 기타 스마트 컨트랙트에서의 부정행위를 저지하는 것이나, 이더의 양이 유한하므로 이더를 연소시키면 모든 이더 보유자에게 연소된 값을 효과적으로 분배한 것으로 이해할 수 있습니다.