<!doctype html>

<html class="no-js" lang="en">

<head>


	<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

	Try

	Index Theme by https://jekyllthemes.io
	Premium + free Jekyll themes for your blog or website.

	- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->


	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<!-- Page Info -->
	<link rel="shortcut icon" href="/images/icon.png">
	<title>Hyperledger Network 구성 (EYFN) – Try</title>
	<meta name="description" content="">

	<!-- Twitter Card -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:title" content="Hyperledger Network 구성 (EYFN) – Try">
	<meta name="twitter:description" content="">
	<meta name="twitter:image:src" content="">

	<!-- Facebook OpenGraph -->
	<meta property="og:title" content="Hyperledger Network 구성 (EYFN) – Try" />
	<meta property="og:description" content="" />
	<meta property="og:image" content="" />

	
	<!-- Font Embed Code -->
	<link href="https://fonts.googleapis.com/css?family=Montserrat:300,500" rel="stylesheet">
	

	<!-- Styles -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="/css/style.css">
	
	<!-- Icons -->
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/solid.js" integrity="sha384-GXi56ipjsBwAe6v5X4xSrVNXGOmpdJYZEEh/0/GqJ3JTHsfDsF8v0YQvZCJYAiGu" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/brands.js" integrity="sha384-0inRy4HkP0hJ038ZyfQ4vLl+F4POKbqnaUB6ewmU4dWP0ki8Q27A0VFiVRIpscvL" crossorigin="anonymous"></script>
	<script defer src="https://use.fontawesome.com/releases/v5.1.1/js/fontawesome.js" integrity="sha384-NY6PHjYLP2f+gL3uaVfqUZImmw71ArL9+Roi9o+I4+RBqArA2CfW1sJ1wkABFfPe" crossorigin="anonymous"></script>

	
	<!-- Custom Styles -->
	<style></style>
	

	
	<!-- Analytics Code -->
	
	

	
	<!-- Extra Header JS Code -->
	
	

	
	
</head>


<body class="loading ajax-loading" data-site-url="http://localhost:4000" data-page-url="/blog/hyperledger-eyfn1">


	<header class="header">

	<div class="header__content">

		
		<a href="/" class="header__title">
			Try
		</a>
		

		<h1 class="header__tagline">The man who moves a mountain begins by carrying away small stones. - Confucius</h1>

		<div class="menu">
			<div class="menu__toggle js-menu-toggle">
				<div class="menu__toggle__icon"><span></span></div>
			</div>
			<div class="menu__wrap">
				<ul class="menu__list">
					
					<li class="menu__list__item">
						<a href="/about" class="menu__list__item__link">About</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/apache" class="menu__list__item__link">Apache</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/blockchain" class="menu__list__item__link">BlockChain</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/computerscience" class="menu__list__item__link">Computer Science</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/database" class="menu__list__item__link">DataBase</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/devops" class="menu__list__item__link">DevOps</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/imageprocessing" class="menu__list__item__link">Image Processing</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/linux" class="menu__list__item__link">Linux</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/machinelearning" class="menu__list__item__link">Machine Learning</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/programming" class="menu__list__item__link">Programming</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/softwaremaestro" class="menu__list__item__link">SW Maestro</a>
					</li>
					
					<li class="menu__list__item">
						<a href="/web" class="menu__list__item__link">Web</a>
					</li>
					
				</ul>
			</div>
		</div>

		<div class="projects-menu">
			<ul class="menu__list">
				
			</ul>
		</div>

		<div class="header__lower">

			<ul class="socials">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://github.com/has3ong" target="_blank" class="socials__item__link" title="Github">
			<i class="fab fa-github" aria-hidden="true"></i>
		</a>
	</li>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://www.linkedin.com/in/%ED%95%98%EC%84%B1-%EA%B9%80-145aa21a0/" target="_blank" class="socials__item__link" title="Linkedin">
			<i class="fab fa-linkedin" aria-hidden="true"></i>
		</a>
	</li>
	
	
</ul>

			<div class="footer__copyright">
				<span>© 2020 Try</span>
				Has3ong
			</div>

		</div>

	</div>

</header>


	<div class="loader"><svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg"><circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="60" cy="15" r="9" fill-opacity="0.3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite" /></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite" /><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite" /></circle></svg></div>

	<div class="page-loader"></div>

	
	<div class="page">

		<div class="page__content" data-page-title="Hyperledger Network 구성 (EYFN) – Try">

			<section class="intro">

	<div class="wrap">

		<h1>Hyperledger Network 구성 (EYFN)</h1>
		<p>06 January 2020</p>

	</div>

</section>

<section class="single">

	<div class="wrap">

		<h2 id="network-구성">Network 구성</h2>

<h1 id="settings">Settings</h1>

<p><code class="highlighter-rouge">Setting</code> 부분은 <a href="/fabricnetwork1">Hyperledger Fabric Network 구성 -1-</a> 부분과 동일하니 똑같이 진행하시면 됩니다.</p>

<p><code class="highlighter-rouge">HandOn</code> 부분부터 다릅니다.</p>

<h1 id="handson">HandsOn</h1>

<h2 id="generate-network-artifacts">Generate Network Artifacts</h2>

<p>먼저 BYFN 파일을 이용하여 초기 네트워크 설정을 합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>fabric-samples/first-network
<span class="nv">$ </span>./byfn.sh generate

Generating certs and genesis block <span class="k">for </span>channel <span class="s1">'mychannel'</span> with CLI <span class="nb">timeout </span>of <span class="s1">'10'</span> seconds and CLI delay of <span class="s1">'3'</span> seconds
Continue? <span class="o">[</span>Y/n] y
proceeding ...
/home/vagrant/fabric-samples/first-network/../bin/cryptogen

<span class="c">##########################################################</span>
<span class="c">##### Generate certificates using cryptogen tool #########</span>
<span class="c">##########################################################</span>
+ cryptogen generate <span class="nt">--config</span><span class="o">=</span>./crypto-config.yaml
org1.example.com
org2.example.com
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

Generate CCP files <span class="k">for </span>Org1 and Org2
/home/vagrant/fabric-samples/first-network/../bin/configtxgen
<span class="c">##########################################################</span>
<span class="c">#########  Generating Orderer Genesis block ##############</span>
<span class="c">##########################################################</span>
<span class="nv">CONSENSUS_TYPE</span><span class="o">=</span>solo
+ <span class="s1">'['</span> solo <span class="o">==</span> solo <span class="s1">']'</span>
+ configtxgen <span class="nt">-profile</span> TwoOrgsOrdererGenesis <span class="nt">-channelID</span> byfn-sys-channel <span class="nt">-outputBlock</span> ./channel-artifacts/genesis.block
2020-01-05 11:59:40.507 UTC <span class="o">[</span>common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
2020-01-05 11:59:40.574 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] completeInitialization -&gt; INFO 002 orderer <span class="nb">type</span>: solo
2020-01-05 11:59:40.574 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] Load -&gt; INFO 003 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.638 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] completeInitialization -&gt; INFO 004 orderer <span class="nb">type</span>: solo
2020-01-05 11:59:40.639 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] LoadTopLevel -&gt; INFO 005 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.640 UTC <span class="o">[</span>common.tools.configtxgen] doOutputBlock -&gt; INFO 006 Generating genesis block
2020-01-05 11:59:40.641 UTC <span class="o">[</span>common.tools.configtxgen] doOutputBlock -&gt; INFO 007 Writing genesis block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

<span class="c">#################################################################</span>
<span class="c">### Generating channel configuration transaction 'channel.tx' ###</span>
<span class="c">#################################################################</span>
+ configtxgen <span class="nt">-profile</span> TwoOrgsChannel <span class="nt">-outputCreateChannelTx</span> ./channel-artifacts/channel.tx <span class="nt">-channelID</span> mychannel
2020-01-05 11:59:40.663 UTC <span class="o">[</span>common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
2020-01-05 11:59:40.718 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.773 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] completeInitialization -&gt; INFO 003 orderer <span class="nb">type</span>: solo
2020-01-05 11:59:40.774 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] LoadTopLevel -&gt; INFO 004 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.774 UTC <span class="o">[</span>common.tools.configtxgen] doOutputChannelCreateTx -&gt; INFO 005 Generating new channel configtx
2020-01-05 11:59:40.776 UTC <span class="o">[</span>common.tools.configtxgen] doOutputChannelCreateTx -&gt; INFO 006 Writing new channel tx
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

<span class="c">#################################################################</span>
<span class="c">#######    Generating anchor peer update for Org1MSP   ##########</span>
<span class="c">#################################################################</span>
+ configtxgen <span class="nt">-profile</span> TwoOrgsChannel <span class="nt">-outputAnchorPeersUpdate</span> ./channel-artifacts/Org1MSPanchors.tx <span class="nt">-channelID</span> mychannel <span class="nt">-asOrg</span> Org1MSP
2020-01-05 11:59:40.799 UTC <span class="o">[</span>common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
2020-01-05 11:59:40.855 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.914 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] completeInitialization -&gt; INFO 003 orderer <span class="nb">type</span>: solo
2020-01-05 11:59:40.915 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] LoadTopLevel -&gt; INFO 004 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:40.916 UTC <span class="o">[</span>common.tools.configtxgen] doOutputAnchorPeersUpdate -&gt; INFO 005 Generating anchor peer update
2020-01-05 11:59:40.916 UTC <span class="o">[</span>common.tools.configtxgen] doOutputAnchorPeersUpdate -&gt; INFO 006 Writing anchor peer update
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

<span class="c">#################################################################</span>
<span class="c">#######    Generating anchor peer update for Org2MSP   ##########</span>
<span class="c">#################################################################</span>
+ configtxgen <span class="nt">-profile</span> TwoOrgsChannel <span class="nt">-outputAnchorPeersUpdate</span> ./channel-artifacts/Org2MSPanchors.tx <span class="nt">-channelID</span> mychannel <span class="nt">-asOrg</span> Org2MSP
2020-01-05 11:59:40.954 UTC <span class="o">[</span>common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
2020-01-05 11:59:41.028 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] Load -&gt; INFO 002 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:41.108 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] completeInitialization -&gt; INFO 003 orderer <span class="nb">type</span>: solo
2020-01-05 11:59:41.108 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] LoadTopLevel -&gt; INFO 004 Loaded configuration: /home/vagrant/fabric-samples/first-network/configtx.yaml
2020-01-05 11:59:41.109 UTC <span class="o">[</span>common.tools.configtxgen] doOutputAnchorPeersUpdate -&gt; INFO 005 Generating anchor peer update
2020-01-05 11:59:41.110 UTC <span class="o">[</span>common.tools.configtxgen] doOutputAnchorPeersUpdate -&gt; INFO 006 Writing anchor peer update
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
</code></pre></div></div>

<h2 id="bring-up-the-network">Bring Up the Network</h2>

<p>다음으로 네트워크를 구성하겠습니다. <code class="highlighter-rouge">./byfn.sh up</code> 명령어로 네트워크를 실행 시킵니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./byfn.sh up

Starting <span class="k">for </span>channel <span class="s1">'mychannel'</span> with CLI <span class="nb">timeout </span>of <span class="s1">'10'</span> seconds and CLI delay of <span class="s1">'3'</span> seconds
Continue? <span class="o">[</span>Y/n] y
proceeding ...
<span class="nv">LOCAL_VERSION</span><span class="o">=</span>1.4.3
<span class="nv">DOCKER_IMAGE_VERSION</span><span class="o">=</span>1.4.3
Creating network <span class="s2">"net_byfn"</span> with the default driver
Creating volume <span class="s2">"net_orderer.example.com"</span> with default driver
Creating volume <span class="s2">"net_peer0.org1.example.com"</span> with default driver
Creating volume <span class="s2">"net_peer1.org1.example.com"</span> with default driver
Creating volume <span class="s2">"net_peer0.org2.example.com"</span> with default driver
Creating volume <span class="s2">"net_peer1.org2.example.com"</span> with default driver
Creating peer1.org1.example.com ... <span class="k">done
</span>Creating orderer.example.com    ... <span class="k">done
</span>Creating peer1.org2.example.com ... <span class="k">done
</span>Creating peer0.org1.example.com ... <span class="k">done
</span>Creating peer0.org2.example.com ... <span class="k">done
</span>Creating cli                    ... <span class="k">done
</span>CONTAINER ID        IMAGE                               COMMAND             CREATED             STATUS                  PORTS                      NAMES
8a0d121e21c0        hyperledger/fabric-tools:latest     <span class="s2">"/bin/bash"</span>         1 second ago        Up Less than a second                              cli
0548c53e2464        hyperledger/fabric-peer:latest      <span class="s2">"peer node start"</span>   3 seconds ago       Up Less than a second   0.0.0.0:9051-&gt;9051/tcp     peer0.org2.example.com
a176d7245611        hyperledger/fabric-peer:latest      <span class="s2">"peer node start"</span>   3 seconds ago       Up 1 second             0.0.0.0:7051-&gt;7051/tcp     peer0.org1.example.com
af300dab906d        hyperledger/fabric-peer:latest      <span class="s2">"peer node start"</span>   3 seconds ago       Up 1 second             0.0.0.0:10051-&gt;10051/tcp   peer1.org2.example.com
0f7fbfe0c0f0        hyperledger/fabric-orderer:latest   <span class="s2">"orderer"</span>           3 seconds ago       Up 1 second             0.0.0.0:7050-&gt;7050/tcp     orderer.example.com
90d452410ac7        hyperledger/fabric-peer:latest      <span class="s2">"peer node start"</span>   4 seconds ago       Up Less than a second   0.0.0.0:8051-&gt;8051/tcp     peer1.org1.example.com

 ____    _____      _      ____    _____
/ ___|  |_   _|    / <span class="se">\ </span>   |  _ <span class="se">\ </span> |_   _|
<span class="se">\_</span>__ <span class="se">\ </span>   | |     / _ <span class="se">\ </span>  | |_<span class="o">)</span> |   | |
 ___<span class="o">)</span> |   | |    / ___ <span class="se">\ </span> |  _ &lt;    | |
|____/    |_|   /_/   <span class="se">\_\ </span>|_| <span class="se">\_\ </span>  |_|

Build your first network <span class="o">(</span>BYFN<span class="o">)</span> end-to-end <span class="nb">test

</span>Channel name : mychannel
Creating channel...
+ peer channel create <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">-c</span> mychannel <span class="nt">-f</span> ./channel-artifacts/channel.tx <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 11:59:51.318 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 11:59:51.345 UTC <span class="o">[</span>cli.common] readBlock -&gt; INFO 002 Received block: 0
<span class="o">=====================</span> Channel <span class="s1">'mychannel'</span> created <span class="o">=====================</span>

Having all peers <span class="nb">join </span>the channel...
+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 11:59:51.396 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 11:59:51.414 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer0.org1 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 11:59:54.470 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 11:59:54.492 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer1.org1 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 11:59:57.542 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 11:59:57.560 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer0.org2 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:00.612 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:00:00.632 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer1.org2 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Updating anchor peers <span class="k">for </span>org1...
+ peer channel update <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">-c</span> mychannel <span class="nt">-f</span> ./channel-artifacts/Org1MSPanchors.tx <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:03.686 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:00:03.716 UTC <span class="o">[</span>channelCmd] update -&gt; INFO 002 Successfully submitted channel update
<span class="o">=====================</span> Anchor peers updated <span class="k">for </span>org <span class="s1">'Org1MSP'</span> on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Updating anchor peers <span class="k">for </span>org2...
+ peer channel update <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">-c</span> mychannel <span class="nt">-f</span> ./channel-artifacts/Org2MSPanchors.tx <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:06.771 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:00:06.786 UTC <span class="o">[</span>channelCmd] update -&gt; INFO 002 Successfully submitted channel update
<span class="o">=====================</span> Anchor peers updated <span class="k">for </span>org <span class="s1">'Org2MSP'</span> on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Installing chaincode on peer0.org1...
+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 1.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:09.839 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:00:09.839 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:00:10.176 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer0.org1 <span class="o">=====================</span>

Install chaincode on peer0.org2...
+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 1.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:10.220 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:00:10.220 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:00:10.352 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer0.org2 <span class="o">=====================</span>

Instantiating chaincode on peer0.org2...
+ peer chaincode instantiate <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-l</span> golang <span class="nt">-v</span> 1.0 <span class="nt">-c</span> <span class="s1">'{"Args":["init","a","100","b","200"]}'</span> <span class="nt">-P</span> <span class="s1">'AND ('</span><span class="se">\'</span><span class="s1">'Org1MSP.peer'</span><span class="se">\'</span><span class="s1">','</span><span class="se">\'</span><span class="s1">'Org2MSP.peer'</span><span class="se">\'</span><span class="s1">')'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:10.398 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:00:10.399 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
<span class="o">=====================</span> Chaincode is instantiated on peer0.org2 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Querying chaincode on peer0.org1...
<span class="o">=====================</span> Querying on peer0.org1 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer0.org1 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

100
<span class="o">=====================</span> Query successful on peer0.org1 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
Sending invoke transaction on peer0.org1 peer0.org2...
+ peer chaincode invoke <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">--peerAddresses</span> peer0.org1.example.com:7051 <span class="nt">--tlsRootCertFiles</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt <span class="nt">--peerAddresses</span> peer0.org2.example.com:9051 <span class="nt">--tlsRootCertFiles</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt <span class="nt">-c</span> <span class="s1">'{"Args":["invoke","a","b","10"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:54.147 UTC <span class="o">[</span>chaincodeCmd] chaincodeInvokeOrQuery -&gt; INFO 001 Chaincode invoke successful. result: status:200
<span class="o">=====================</span> Invoke transaction successful on peer0.org1 peer0.org2 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Installing chaincode on peer1.org2...
+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 1.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:00:54.202 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:00:54.202 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:00:54.322 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer1.org2 <span class="o">=====================</span>

Querying chaincode on peer1.org2...
<span class="o">=====================</span> Querying on peer1.org2 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer1.org2 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

90
<span class="o">=====================</span> Query successful on peer1.org2 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

<span class="o">=========</span> All GOOD, BYFN execution completed <span class="o">===========</span>


 _____   _   _   ____
| ____| | <span class="se">\ </span>| | |  _ <span class="se">\</span>
|  _|   |  <span class="se">\|</span> | | | | |
| |___  | |<span class="se">\ </span> | | |_| |
|_____| |_| <span class="se">\_</span>| |____/
</code></pre></div></div>

<p>네트워크 구성이 끝나면 <code class="highlighter-rouge">docker ps</code> 명령어를 쳤을때 현재 컨테이너의 상태가 아래와 같습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker ps
CONTAINER ID        IMAGE                                                                                                  COMMAND                  CREATED              STATUS              PORTS                      NAMES
d935b4c05e80        dev-peer1.org2.example.com-mycc-1.0-26c2ef32838554aac4f7ad6f100aca865e87959c9a126e86d764c8d01f8346ab   <span class="s2">"chaincode -peer.add…"</span>   29 seconds ago       Up 27 seconds                                  dev-peer1.org2.example.com-mycc-1.0
a406944b01ec        dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9   <span class="s2">"chaincode -peer.add…"</span>   49 seconds ago       Up 47 seconds                                  dev-peer0.org1.example.com-mycc-1.0
d12628a39c8b        dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b   <span class="s2">"chaincode -peer.add…"</span>   About a minute ago   Up About a minute                              dev-peer0.org2.example.com-mycc-1.0
8a0d121e21c0        hyperledger/fabric-tools:latest                                                                        <span class="s2">"/bin/bash"</span>              About a minute ago   Up About a minute                              cli
0548c53e2464        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:9051-&gt;9051/tcp     peer0.org2.example.com
a176d7245611        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:7051-&gt;7051/tcp     peer0.org1.example.com
af300dab906d        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:10051-&gt;10051/tcp   peer1.org2.example.com
0f7fbfe0c0f0        hyperledger/fabric-orderer:latest                                                                      <span class="s2">"orderer"</span>                About a minute ago   Up About a minute   0.0.0.0:7050-&gt;7050/tcp     orderer.example.com
90d452410ac7        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:8051-&gt;8051/tcp     peer1.org1.example.com
</code></pre></div></div>

<h2 id="adding-an-org-to-a-channel">Adding an Org to a Channel</h2>

<p><code class="highlighter-rouge">./eyfn.sh up</code> 명렁어를 통해서 새로운 org3 를 추가해보겠습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>./eyfn.sh up

Generating certs and genesis block <span class="k">for </span>with channel <span class="s1">'mychannel'</span> and CLI <span class="nb">timeout </span>of <span class="s1">'10'</span> seconds and CLI delay of <span class="s1">'3'</span> seconds
Continue? <span class="o">[</span>Y/n] y
proceeding ...
/home/vagrant/fabric-samples/first-network/../bin/cryptogen

<span class="c">###############################################################</span>
<span class="c">##### Generate Org3 certificates using cryptogen tool #########</span>
<span class="c">###############################################################</span>
+ cryptogen generate <span class="nt">--config</span><span class="o">=</span>./org3-crypto.yaml
org3.example.com
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

/home/vagrant/fabric-samples/first-network/../bin/configtxgen
<span class="c">##########################################################</span>
<span class="c">#########  Generating Org3 config material ###############</span>
<span class="c">##########################################################</span>
+ configtxgen <span class="nt">-printOrg</span> Org3MSP
2020-01-05 12:01:49.176 UTC <span class="o">[</span>common.tools.configtxgen] main -&gt; INFO 001 Loading configuration
2020-01-05 12:01:49.178 UTC <span class="o">[</span>common.tools.configtxgen.localconfig] LoadTopLevel -&gt; INFO 002 Loaded configuration: /home/vagrant/fabric-samples/first-network/org3-artifacts/configtx.yaml
2020-01-05 12:01:49.179 UTC <span class="o">[</span>common.tools.configtxgen.encoder] NewConsortiumOrgGroup -&gt; WARN 003 Default policy emission is deprecated, please include policy specifications <span class="k">for </span>the orderer org group Org3MSP <span class="k">in </span>configtx.yaml
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x


<span class="c">###############################################################</span>
<span class="c">####### Generate and submit config tx to add Org3 #############</span>
<span class="c">###############################################################</span>

<span class="o">=========</span> Creating config transaction to add org3 to network <span class="o">===========</span>

Installing jq
Hit:1 http://archive.ubuntu.com/ubuntu xenial InRelease
Get:2 http://security.ubuntu.com/ubuntu xenial-security InRelease <span class="o">[</span>109 kB]
Get:3 http://archive.ubuntu.com/ubuntu xenial-updates InRelease <span class="o">[</span>109 kB]
Get:4 http://archive.ubuntu.com/ubuntu xenial-backports InRelease <span class="o">[</span>107 kB]
Get:5 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages <span class="o">[</span>1019 kB]
Get:6 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages <span class="o">[</span>1396 kB]
Get:7 http://security.ubuntu.com/ubuntu xenial-security/universe amd64 Packages <span class="o">[</span>593 kB]
Get:8 http://security.ubuntu.com/ubuntu xenial-security/multiverse amd64 Packages <span class="o">[</span>6280 B]
Get:9 http://archive.ubuntu.com/ubuntu xenial-updates/universe amd64 Packages <span class="o">[</span>996 kB]
Get:10 http://archive.ubuntu.com/ubuntu xenial-updates/multiverse amd64 Packages <span class="o">[</span>19.3 kB]
Fetched 4355 kB <span class="k">in </span>8s <span class="o">(</span>496 kB/s<span class="o">)</span>
Reading package lists...
Reading package lists...
Building dependency tree...
Reading state information...
jq is already the newest version <span class="o">(</span>1.5+dfsg-1ubuntu0.1<span class="o">)</span><span class="nb">.</span>
0 upgraded, 0 newly installed, 0 to remove and 103 not upgraded.
Fetching the most recent configuration block <span class="k">for </span>the channel
+ peer channel fetch config config_block.pb <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">-c</span> mychannel <span class="nt">--tls</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2020-01-05 12:02:00.119 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:02:00.121 UTC <span class="o">[</span>cli.common] readBlock -&gt; INFO 002 Received block: 4
2020-01-05 12:02:00.125 UTC <span class="o">[</span>cli.common] readBlock -&gt; INFO 003 Received block: 2
2020-01-05 12:02:00.126 UTC <span class="o">[</span>channelCmd] fetch -&gt; INFO 004 Retrieving last config block: 2
+ <span class="nb">set</span> +x
Decoding config block to JSON and isolating config to config.json
+ jq <span class="s1">'.data.data[0].payload.data.config'</span>
+ configtxlator proto_decode <span class="nt">--input</span> config_block.pb <span class="nt">--type</span> common.Block
+ <span class="nb">set</span> +x
+ jq <span class="nt">-s</span> <span class="s1">'.[0] * {"channel_group":{"groups":{"Application":{"groups": {"Org3MSP":.[1]}}}}}'</span> config.json ./channel-artifacts/org3.json
+ <span class="nb">set</span> +x
+ configtxlator proto_encode <span class="nt">--input</span> config.json <span class="nt">--type</span> common.Config
+ configtxlator proto_encode <span class="nt">--input</span> modified_config.json <span class="nt">--type</span> common.Config
+ configtxlator compute_update <span class="nt">--channel_id</span> mychannel <span class="nt">--original</span> original_config.pb <span class="nt">--updated</span> modified_config.pb
+ configtxlator proto_decode <span class="nt">--input</span> config_update.pb <span class="nt">--type</span> common.ConfigUpdate
+ jq <span class="nb">.</span>
++ <span class="nb">cat </span>config_update.json
+ <span class="nb">echo</span> <span class="s1">'{"payload":{"header":{"channel_header":{"channel_id":"mychannel", "type":2}},"data":{"config_update":{'</span> <span class="s1">'"channel_id":'</span> <span class="s1">'"mychannel",'</span> <span class="s1">'"isolated_data":'</span> <span class="s1">'{},'</span> <span class="s1">'"read_set":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{'</span> <span class="s1">'"Application":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{'</span> <span class="s1">'"Org1MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"1"'</span> <span class="s1">'},'</span> <span class="s1">'"Org2MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"1"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{'</span> <span class="s1">'"Admins":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Readers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Writers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"values":'</span> <span class="s1">'{'</span> <span class="s1">'"Capabilities":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"value":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"1"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"write_set":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{'</span> <span class="s1">'"Application":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{'</span> <span class="s1">'"Org1MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"1"'</span> <span class="s1">'},'</span> <span class="s1">'"Org2MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"1"'</span> <span class="s1">'},'</span> <span class="s1">'"Org3MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"groups":'</span> <span class="s1">'{},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{'</span> <span class="s1">'"Admins":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"policy":'</span> <span class="s1">'{'</span> <span class="s1">'"type":'</span> 1, <span class="s1">'"value":'</span> <span class="s1">'{'</span> <span class="s1">'"identities":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"principal":'</span> <span class="s1">'{'</span> <span class="s1">'"msp_identifier":'</span> <span class="s1">'"Org3MSP",'</span> <span class="s1">'"role":'</span> <span class="s1">'"ADMIN"'</span> <span class="s1">'},'</span> <span class="s1">'"principal_classification":'</span> <span class="s1">'"ROLE"'</span> <span class="s1">'}'</span> <span class="s1">'],'</span> <span class="s1">'"rule":'</span> <span class="s1">'{'</span> <span class="s1">'"n_out_of":'</span> <span class="s1">'{'</span> <span class="s1">'"n":'</span> 1, <span class="s1">'"rules":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"signed_by":'</span> 0 <span class="s1">'}'</span> <span class="s1">']'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> 0 <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Readers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"policy":'</span> <span class="s1">'{'</span> <span class="s1">'"type":'</span> 1, <span class="s1">'"value":'</span> <span class="s1">'{'</span> <span class="s1">'"identities":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"principal":'</span> <span class="s1">'{'</span> <span class="s1">'"msp_identifier":'</span> <span class="s1">'"Org3MSP",'</span> <span class="s1">'"role":'</span> <span class="s1">'"MEMBER"'</span> <span class="s1">'},'</span> <span class="s1">'"principal_classification":'</span> <span class="s1">'"ROLE"'</span> <span class="s1">'}'</span> <span class="s1">'],'</span> <span class="s1">'"rule":'</span> <span class="s1">'{'</span> <span class="s1">'"n_out_of":'</span> <span class="s1">'{'</span> <span class="s1">'"n":'</span> 1, <span class="s1">'"rules":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"signed_by":'</span> 0 <span class="s1">'}'</span> <span class="s1">']'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> 0 <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Writers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"policy":'</span> <span class="s1">'{'</span> <span class="s1">'"type":'</span> 1, <span class="s1">'"value":'</span> <span class="s1">'{'</span> <span class="s1">'"identities":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"principal":'</span> <span class="s1">'{'</span> <span class="s1">'"msp_identifier":'</span> <span class="s1">'"Org3MSP",'</span> <span class="s1">'"role":'</span> <span class="s1">'"MEMBER"'</span> <span class="s1">'},'</span> <span class="s1">'"principal_classification":'</span> <span class="s1">'"ROLE"'</span> <span class="s1">'}'</span> <span class="s1">'],'</span> <span class="s1">'"rule":'</span> <span class="s1">'{'</span> <span class="s1">'"n_out_of":'</span> <span class="s1">'{'</span> <span class="s1">'"n":'</span> 1, <span class="s1">'"rules":'</span> <span class="s1">'['</span> <span class="s1">'{'</span> <span class="s1">'"signed_by":'</span> 0 <span class="s1">'}'</span> <span class="s1">']'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> 0 <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"values":'</span> <span class="s1">'{'</span> <span class="s1">'"MSP":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"value":'</span> <span class="s1">'{'</span> <span class="s1">'"config":'</span> <span class="s1">'{'</span> <span class="s1">'"admins":'</span> <span class="s1">'[],'</span> <span class="s1">'"crypto_config":'</span> <span class="s1">'{'</span> <span class="s1">'"identity_identifier_hash_function":'</span> <span class="s1">'"SHA256",'</span> <span class="s1">'"signature_hash_family":'</span> <span class="s1">'"SHA2"'</span> <span class="s1">'},'</span> <span class="s1">'"fabric_node_ous":'</span> <span class="s1">'{'</span> <span class="s1">'"admin_ou_identifier":'</span> <span class="s1">'{'</span> <span class="s1">'"certificate":'</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUt0alh5aWhZeTZzazZad1drL3NUYWt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaek11WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TVRBMU1URTFOekF3V2hjTk16QXdNVEF5TVRFMU56QXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NeTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk15NWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBhUGVHNk5ZL3ZrY1BWbWg5dEFUQW4wem1KRjNNYS8wSE1FcFRSdFVhTHNrWlF5WFZ3QTdnTkI1SHduZDBTUQpSUTc2WG5qY2FxZmhxUXZ5eXRsNVRmbWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKS3VCV0pydk5NT0cwa3F4NWxrWFM0WW4vcWpPU3BxYlN4eHhuUStJbUJmWXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUlWcFR4Ulc1M3Z4WWk1ZGdCem14MXlWdzlydEZRVnFING5Ra05RTXNwQVRBaUJqdFZ1Qm5FM25TLzB5CnF4c3FFYVNRN1RQK0k0SnFnbUNrUGIzT3RvMExXUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",'</span> <span class="s1">'"organizational_unit_identifier":'</span> <span class="s1">'"admin"'</span> <span class="s1">'},'</span> <span class="s1">'"client_ou_identifier":'</span> <span class="s1">'{'</span> <span class="s1">'"certificate":'</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUt0alh5aWhZeTZzazZad1drL3NUYWt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaek11WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TVRBMU1URTFOekF3V2hjTk16QXdNVEF5TVRFMU56QXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NeTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk15NWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBhUGVHNk5ZL3ZrY1BWbWg5dEFUQW4wem1KRjNNYS8wSE1FcFRSdFVhTHNrWlF5WFZ3QTdnTkI1SHduZDBTUQpSUTc2WG5qY2FxZmhxUXZ5eXRsNVRmbWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKS3VCV0pydk5NT0cwa3F4NWxrWFM0WW4vcWpPU3BxYlN4eHhuUStJbUJmWXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUlWcFR4Ulc1M3Z4WWk1ZGdCem14MXlWdzlydEZRVnFING5Ra05RTXNwQVRBaUJqdFZ1Qm5FM25TLzB5CnF4c3FFYVNRN1RQK0k0SnFnbUNrUGIzT3RvMExXUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",'</span> <span class="s1">'"organizational_unit_identifier":'</span> <span class="s1">'"client"'</span> <span class="s1">'},'</span> <span class="s1">'"enable":'</span> <span class="nb">true</span>, <span class="s1">'"orderer_ou_identifier":'</span> <span class="s1">'{'</span> <span class="s1">'"certificate":'</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUt0alh5aWhZeTZzazZad1drL3NUYWt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaek11WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TVRBMU1URTFOekF3V2hjTk16QXdNVEF5TVRFMU56QXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NeTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk15NWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBhUGVHNk5ZL3ZrY1BWbWg5dEFUQW4wem1KRjNNYS8wSE1FcFRSdFVhTHNrWlF5WFZ3QTdnTkI1SHduZDBTUQpSUTc2WG5qY2FxZmhxUXZ5eXRsNVRmbWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKS3VCV0pydk5NT0cwa3F4NWxrWFM0WW4vcWpPU3BxYlN4eHhuUStJbUJmWXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUlWcFR4Ulc1M3Z4WWk1ZGdCem14MXlWdzlydEZRVnFING5Ra05RTXNwQVRBaUJqdFZ1Qm5FM25TLzB5CnF4c3FFYVNRN1RQK0k0SnFnbUNrUGIzT3RvMExXUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",'</span> <span class="s1">'"organizational_unit_identifier":'</span> <span class="s1">'"orderer"'</span> <span class="s1">'},'</span> <span class="s1">'"peer_ou_identifier":'</span> <span class="s1">'{'</span> <span class="s1">'"certificate":'</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUt0alh5aWhZeTZzazZad1drL3NUYWt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaek11WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TVRBMU1URTFOekF3V2hjTk16QXdNVEF5TVRFMU56QXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NeTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk15NWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBhUGVHNk5ZL3ZrY1BWbWg5dEFUQW4wem1KRjNNYS8wSE1FcFRSdFVhTHNrWlF5WFZ3QTdnTkI1SHduZDBTUQpSUTc2WG5qY2FxZmhxUXZ5eXRsNVRmbWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKS3VCV0pydk5NT0cwa3F4NWxrWFM0WW4vcWpPU3BxYlN4eHhuUStJbUJmWXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUlWcFR4Ulc1M3Z4WWk1ZGdCem14MXlWdzlydEZRVnFING5Ra05RTXNwQVRBaUJqdFZ1Qm5FM25TLzB5CnF4c3FFYVNRN1RQK0k0SnFnbUNrUGIzT3RvMExXUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",'</span> <span class="s1">'"organizational_unit_identifier":'</span> <span class="s1">'"peer"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"intermediate_certs":'</span> <span class="s1">'[],'</span> <span class="s1">'"name":'</span> <span class="s1">'"Org3MSP",'</span> <span class="s1">'"organizational_unit_identifiers":'</span> <span class="s1">'[],'</span> <span class="s1">'"revocation_list":'</span> <span class="s1">'[],'</span> <span class="s1">'"root_certs":'</span> <span class="s1">'['</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNVakNDQWZpZ0F3SUJBZ0lSQUt0alh5aWhZeTZzazZad1drL3NUYWt3Q2dZSUtvWkl6ajBFQXdJd2N6RUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIREFhQmdOVkJBTVRFMk5oCkxtOXlaek11WlhoaGJYQnNaUzVqYjIwd0hoY05NakF3TVRBMU1URTFOekF3V2hjTk16QXdNVEF5TVRFMU56QXcKV2pCek1Rc3dDUVlEVlFRR0V3SlZVekVUTUJFR0ExVUVDQk1LUTJGc2FXWnZjbTVwWVRFV01CUUdBMVVFQnhNTgpVMkZ1SUVaeVlXNWphWE5qYnpFWk1CY0dBMVVFQ2hNUWIzSm5NeTVsZUdGdGNHeGxMbU52YlRFY01Cb0dBMVVFCkF4TVRZMkV1YjNKbk15NWxlR0Z0Y0d4bExtTnZiVEJaTUJNR0J5cUdTTTQ5QWdFR0NDcUdTTTQ5QXdFSEEwSUEKQlBhUGVHNk5ZL3ZrY1BWbWg5dEFUQW4wem1KRjNNYS8wSE1FcFRSdFVhTHNrWlF5WFZ3QTdnTkI1SHduZDBTUQpSUTc2WG5qY2FxZmhxUXZ5eXRsNVRmbWpiVEJyTUE0R0ExVWREd0VCL3dRRUF3SUJwakFkQmdOVkhTVUVGakFVCkJnZ3JCZ0VGQlFjREFnWUlLd1lCQlFVSEF3RXdEd1lEVlIwVEFRSC9CQVV3QXdFQi96QXBCZ05WSFE0RUlnUWcKS3VCV0pydk5NT0cwa3F4NWxrWFM0WW4vcWpPU3BxYlN4eHhuUStJbUJmWXdDZ1lJS29aSXpqMEVBd0lEU0FBdwpSUUloQUlWcFR4Ulc1M3Z4WWk1ZGdCem14MXlWdzlydEZRVnFING5Ra05RTXNwQVRBaUJqdFZ1Qm5FM25TLzB5CnF4c3FFYVNRN1RQK0k0SnFnbUNrUGIzT3RvMExXUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"'</span> <span class="s1">'],'</span> <span class="s1">'"signing_identity":'</span> null, <span class="s1">'"tls_intermediate_certs":'</span> <span class="s1">'[],'</span> <span class="s1">'"tls_root_certs":'</span> <span class="s1">'['</span> <span class="s1">'"LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNWekNDQWY2Z0F3SUJBZ0lSQU0zVmZZOTJDVy9BKzdYTUVVVTMxQjh3Q2dZSUtvWkl6ajBFQXdJd2RqRUwKTUFrR0ExVUVCaE1DVlZNeEV6QVJCZ05WQkFnVENrTmhiR2xtYjNKdWFXRXhGakFVQmdOVkJBY1REVk5oYmlCRwpjbUZ1WTJselkyOHhHVEFYQmdOVkJBb1RFRzl5WnpNdVpYaGhiWEJzWlM1amIyMHhIekFkQmdOVkJBTVRGblJzCmMyTmhMbTl5WnpNdVpYaGhiWEJzWlM1amIyMHdIaGNOTWpBd01UQTFNVEUxTnpBd1doY05NekF3TVRBeU1URTEKTnpBd1dqQjJNUXN3Q1FZRFZRUUdFd0pWVXpFVE1CRUdBMVVFQ0JNS1EyRnNhV1p2Y201cFlURVdNQlFHQTFVRQpCeE1OVTJGdUlFWnlZVzVqYVhOamJ6RVpNQmNHQTFVRUNoTVFiM0puTXk1bGVHRnRjR3hsTG1OdmJURWZNQjBHCkExVUVBeE1XZEd4elkyRXViM0puTXk1bGVHRnRjR3hsTG1OdmJUQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDkKQXdFSEEwSUFCQkUxYzdnc1JuZk5yRUhmd3JaMmhiRG9ydW9RTzlzOVBEWGZGcGgwUU85V013dWRlRTZ2bW55ZApmRDgzdjdKRWVKSFpRNjY2ZWlDM3VQQzllTUVYb3ZpamJUQnJNQTRHQTFVZER3RUIvd1FFQXdJQnBqQWRCZ05WCkhTVUVGakFVQmdnckJnRUZCUWNEQWdZSUt3WUJCUVVIQXdFd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBcEJnTlYKSFE0RUlnUWd3OVFRd2dMdzc1elA3MzNNV1hTZ21Dc2hIWDBDazJkNnNUNE1BUzRHYWpjd0NnWUlLb1pJemowRQpBd0lEUndBd1JBSWdiTUhDdnFraWI5N09Jc1RXZnR0cnQ1aThCRklhRGRXMysvNEw4SkFNSTBZQ0lCWFUxSWRHClJWZlRPRDNCQkVtTWFIRXFqb2M1K3RTMjB0MWcvRFgzcTdvVgotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg=="'</span> <span class="s1">']'</span> <span class="s1">'},'</span> <span class="s1">'"type":'</span> 0 <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"Admins",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{'</span> <span class="s1">'"Admins":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Readers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'},'</span> <span class="s1">'"Writers":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policy":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"values":'</span> <span class="s1">'{'</span> <span class="s1">'"Capabilities":'</span> <span class="s1">'{'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"value":'</span> null, <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"version":'</span> <span class="s1">'"2"'</span> <span class="s1">'}'</span> <span class="s1">'},'</span> <span class="s1">'"mod_policy":'</span> <span class="s1">'"",'</span> <span class="s1">'"policies":'</span> <span class="s1">'{},'</span> <span class="s1">'"values":'</span> <span class="s1">'{},'</span> <span class="s1">'"version":'</span> <span class="s1">'"0"'</span> <span class="s1">'}'</span> <span class="s1">'}}}}'</span>
+ configtxlator proto_encode <span class="nt">--input</span> config_update_in_envelope.json <span class="nt">--type</span> common.Envelope
+ <span class="nb">set</span> +x

<span class="o">=========</span> Config transaction to add org3 to network created <span class="o">=====</span>

Signing config transaction

+ peer channel signconfigtx <span class="nt">-f</span> org3_update_in_envelope.pb
2020-01-05 12:02:00.480 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
+ <span class="nb">set</span> +x

<span class="o">=========</span> Submitting transaction from a different peer <span class="o">(</span>peer0.org2<span class="o">)</span> which also signs it <span class="o">=========</span>

+ peer channel update <span class="nt">-f</span> org3_update_in_envelope.pb <span class="nt">-c</span> mychannel <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">--tls</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem
2020-01-05 12:02:00.522 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:02:00.538 UTC <span class="o">[</span>channelCmd] update -&gt; INFO 002 Successfully submitted channel update
+ <span class="nb">set</span> +x

<span class="o">=========</span> Config transaction to add org3 to network submitted! <span class="o">===========</span>

root@fabric-1:/home/vagrant/fabric-samples/first-network# vi eyfn.sh
root@fabric-1:/home/vagrant/fabric-samples/first-network# ./eyfn.sh up
Starting with channel <span class="s1">'mychannel'</span> and CLI <span class="nb">timeout </span>of <span class="s1">'10'</span> seconds and CLI delay of <span class="s1">'3'</span> seconds
Continue? <span class="o">[</span>Y/n] y
proceeding ...
Creating volume <span class="s2">"net_peer0.org3.example.com"</span> with default driver
Creating volume <span class="s2">"net_peer1.org3.example.com"</span> with default driver
WARNING: Found orphan containers <span class="o">(</span>cli, peer0.org2.example.com, peer0.org1.example.com, peer1.org2.example.com, orderer.example.com, peer1.org1.example.com<span class="o">)</span> <span class="k">for </span>this project. If you removed or renamed this service <span class="k">in </span>your compose file, you can run this <span class="nb">command </span>with the <span class="nt">--remove-orphans</span> flag to clean it up.
Creating peer1.org3.example.com ... <span class="k">done
</span>Creating peer0.org3.example.com ... <span class="k">done
</span>Creating Org3cli                ... <span class="k">done</span>

<span class="c">###############################################################</span>
<span class="c">############### Have Org3 peers join network ##################</span>
<span class="c">###############################################################</span>
+ peer channel fetch 0 mychannel.block <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">-c</span> mychannel <span class="nt">--tls</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem

<span class="o">=========</span> Getting Org3 on to your first network <span class="o">=========</span>

Fetching channel config block from orderer...
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:24.562 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:02:24.563 UTC <span class="o">[</span>cli.common] readBlock -&gt; INFO 002 Received block: 0
+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:24.611 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:02:24.636 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer0.org3 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
+ peer channel <span class="nb">join</span> <span class="nt">-b</span> mychannel.block
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:24.686 UTC <span class="o">[</span>channelCmd] InitCmdFactory -&gt; INFO 001 Endorser and orderer connections initialized
2020-01-05 12:02:24.702 UTC <span class="o">[</span>channelCmd] executeJoin -&gt; INFO 002 Successfully submitted proposal to <span class="nb">join </span>channel
<span class="o">=====================</span> peer1.org3 joined channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
Installing chaincode 2.0 on peer0.org3...
+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 2.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:24.750 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:02:24.750 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:02:24.863 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer0.org3 <span class="o">=====================</span>


<span class="o">=========</span> Org3 is now halfway onto your first network <span class="o">=========</span>


<span class="c">###############################################################</span>
<span class="c">##### Upgrade chaincode to have Org3 peers on the network #####</span>
<span class="c">###############################################################</span>

<span class="o">=========</span> Finish adding Org3 to your first network <span class="o">=========</span>

+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 2.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
<span class="o">=====================</span> Installing chaincode 2.0 on peer0.org1 <span class="o">=====================</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:25.205 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:02:25.206 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:02:25.309 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer0.org1 <span class="o">=====================</span>

<span class="o">=====================</span> Installing chaincode 2.0 on peer0.org2 <span class="o">=====================</span>
+ peer chaincode <span class="nb">install</span> <span class="nt">-n</span> mycc <span class="nt">-v</span> 2.0 <span class="nt">-l</span> golang <span class="nt">-p</span> github.com/chaincode/chaincode_example02/go/
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:25.360 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:02:25.360 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:02:25.469 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is installed on peer0.org2 <span class="o">=====================</span>

<span class="o">=====================</span> Upgrading chaincode on peer0.org1 <span class="o">=====================</span>
+ peer chaincode upgrade <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-v</span> 2.0 <span class="nt">-c</span> <span class="s1">'{"Args":["init","a","90","b","210"]}'</span> <span class="nt">-P</span> <span class="s1">'AND ('</span><span class="se">\'</span><span class="s1">'Org1MSP.peer'</span><span class="se">\'</span><span class="s1">','</span><span class="se">\'</span><span class="s1">'Org2MSP.peer'</span><span class="se">\'</span><span class="s1">','</span><span class="se">\'</span><span class="s1">'Org3MSP.peer'</span><span class="se">\'</span><span class="s1">')'</span>
2020-01-05 12:02:25.516 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:02:25.517 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:02:25.360 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 001 Using default escc
2020-01-05 12:02:25.360 UTC <span class="o">[</span>chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 002 Using default vscc
2020-01-05 12:02:25.469 UTC <span class="o">[</span>chaincodeCmd] <span class="nb">install</span> -&gt; INFO 003 Installed remotely response:&lt;status:200 payload:<span class="s2">"OK"</span> <span class="o">&gt;</span>
<span class="o">=====================</span> Chaincode is upgraded on peer0.org1 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

<span class="o">=========</span> Finished adding Org3 to your first network! <span class="o">=========</span>


 ____    _____      _      ____    _____
/ ___|  |_   _|    / <span class="se">\ </span>   |  _ <span class="se">\ </span> |_   _|
<span class="se">\_</span>__ <span class="se">\ </span>   | |     / _ <span class="se">\ </span>  | |_<span class="o">)</span> |   | |
 ___<span class="o">)</span> |   | |    / ___ <span class="se">\ </span> |  _ &lt;    | |
|____/    |_|   /_/   <span class="se">\_\ </span>|_| <span class="se">\_\ </span>  |_|

Extend your first network <span class="o">(</span>EYFN<span class="o">)</span> <span class="nb">test

</span>Channel name : mychannel
Querying chaincode on peer0.org3...
<span class="o">=====================</span> Querying on peer0.org3 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer0.org3 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

90
<span class="o">=====================</span> Query successful on peer0.org3 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
Sending invoke transaction on peer0.org1 peer0.org2 peer0.org3...
+ peer chaincode invoke <span class="nt">-o</span> orderer.example.com:7050 <span class="nt">--tls</span> <span class="nb">true</span> <span class="nt">--cafile</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/example.com/orderers/orderer.example.com/msp/tlscacerts/tlsca.example.com-cert.pem <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">--peerAddresses</span> peer0.org1.example.com:7051 <span class="nt">--tlsRootCertFiles</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org1.example.com/peers/peer0.org1.example.com/tls/ca.crt <span class="nt">--peerAddresses</span> peer0.org2.example.com:9051 <span class="nt">--tlsRootCertFiles</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org2.example.com/peers/peer0.org2.example.com/tls/ca.crt <span class="nt">--peerAddresses</span> peer0.org3.example.com:11051 <span class="nt">--tlsRootCertFiles</span> /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/org3.example.com/peers/peer0.org3.example.com/tls/ca.crt <span class="nt">-c</span> <span class="s1">'{"Args":["invoke","a","b","10"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x
2020-01-05 12:03:28.757 UTC <span class="o">[</span>chaincodeCmd] chaincodeInvokeOrQuery -&gt; INFO 001 Chaincode invoke successful. result: status:200
<span class="o">=====================</span> Invoke transaction successful on peer0.org1 peer0.org2 peer0.org3 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

Querying chaincode on peer0.org3...
<span class="o">=====================</span> Querying on peer0.org3 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer0.org3 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

80
<span class="o">=====================</span> Query successful on peer0.org3 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
Querying chaincode on peer0.org2...
<span class="o">=====================</span> Querying on peer0.org2 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer0.org2 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

80
<span class="o">=====================</span> Query successful on peer0.org2 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>
Querying chaincode on peer0.org1...
<span class="o">=====================</span> Querying on peer0.org1 on channel <span class="s1">'mychannel'</span>... <span class="o">=====================</span>
Attempting to Query peer0.org1 ...3 secs
+ peer chaincode query <span class="nt">-C</span> mychannel <span class="nt">-n</span> mycc <span class="nt">-c</span> <span class="s1">'{"Args":["query","a"]}'</span>
+ <span class="nv">res</span><span class="o">=</span>0
+ <span class="nb">set</span> +x

80
<span class="o">=====================</span> Query successful on peer0.org1 on channel <span class="s1">'mychannel'</span> <span class="o">=====================</span>

<span class="o">=========</span> All GOOD, EYFN <span class="nb">test </span>execution completed <span class="o">===========</span>


 _____   _   _   ____
| ____| | <span class="se">\ </span>| | |  _ <span class="se">\</span>
|  _|   |  <span class="se">\|</span> | | | | |
| |___  | |<span class="se">\ </span> | | |_| |
|_____| |_| <span class="se">\_</span>| |____/

</code></pre></div></div>

<p>네트워크 org3 추가가 끝이나면 <code class="highlighter-rouge">docker ps</code> 명령어를 쳤을때 현재 컨테이너의 상태가 아래와 같습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>docker ps
CONTAINER ID        IMAGE                                                                                                  COMMAND                  CREATED              STATUS              PORTS                      NAMES
f3e724446a24        dev-peer0.org2.example.com-mycc-2.0-c7aee9ad18dddc18319f5f00199f05d866f9e61dca40c9af3e226d434ac4a63c   <span class="s2">"chaincode -peer.add…"</span>   40 seconds ago       Up 39 seconds                                  dev-peer0.org2.example.com-mycc-2.0
d75e219f00af        dev-peer0.org3.example.com-mycc-2.0-156223788c3ef42ff3094c6cf1d2f71284c36f2074cc4d1f09a7065cb903d192   <span class="s2">"chaincode -peer.add…"</span>   About a minute ago   Up About a minute                              dev-peer0.org3.example.com-mycc-2.0
6bad1c5342ca        dev-peer0.org1.example.com-mycc-2.0-2732cd4d96a0b88594aefca15581eaa0fb481ad15beeb86cc79931b2a90ee621   <span class="s2">"chaincode -peer.add…"</span>   About a minute ago   Up About a minute                              dev-peer0.org1.example.com-mycc-2.0
79b1749766ac        hyperledger/fabric-tools:latest                                                                        <span class="s2">"/bin/bash"</span>              About a minute ago   Up About a minute                              Org3cli
a2f1f90c496d        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:11051-&gt;11051/tcp   peer0.org3.example.com
86c793a09dc1        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        About a minute ago   Up About a minute   0.0.0.0:12051-&gt;12051/tcp   peer1.org3.example.com
d935b4c05e80        dev-peer1.org2.example.com-mycc-1.0-26c2ef32838554aac4f7ad6f100aca865e87959c9a126e86d764c8d01f8346ab   <span class="s2">"chaincode -peer.add…"</span>   2 minutes ago        Up 2 minutes                                   dev-peer1.org2.example.com-mycc-1.0
a406944b01ec        dev-peer0.org1.example.com-mycc-1.0-384f11f484b9302df90b453200cfb25174305fce8f53f4e94d45ee3b6cab0ce9   <span class="s2">"chaincode -peer.add…"</span>   3 minutes ago        Up 3 minutes                                   dev-peer0.org1.example.com-mycc-1.0
d12628a39c8b        dev-peer0.org2.example.com-mycc-1.0-15b571b3ce849066b7ec74497da3b27e54e0df1345daff3951b94245ce09c42b   <span class="s2">"chaincode -peer.add…"</span>   3 minutes ago        Up 3 minutes                                   dev-peer0.org2.example.com-mycc-1.0
8a0d121e21c0        hyperledger/fabric-tools:latest                                                                        <span class="s2">"/bin/bash"</span>              4 minutes ago        Up 4 minutes                                   cli
0548c53e2464        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        4 minutes ago        Up 4 minutes        0.0.0.0:9051-&gt;9051/tcp     peer0.org2.example.com
a176d7245611        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        4 minutes ago        Up 4 minutes        0.0.0.0:7051-&gt;7051/tcp     peer0.org1.example.com
af300dab906d        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        4 minutes ago        Up 4 minutes        0.0.0.0:10051-&gt;10051/tcp   peer1.org2.example.com
0f7fbfe0c0f0        hyperledger/fabric-orderer:latest                                                                      <span class="s2">"orderer"</span>                4 minutes ago        Up 4 minutes        0.0.0.0:7050-&gt;7050/tcp     orderer.example.com
90d452410ac7        hyperledger/fabric-peer:latest                                                                         <span class="s2">"peer node start"</span>        4 minutes ago        Up 4 minutes        0.0.0.0:8051-&gt;8051/tcp     peer1.org1.example.com
root@fabric-1:/home/vagrant/fabric-samples/first-network#
</code></pre></div></div>

<p>다음 포스트에서는 이전과 같은 방식으로 하나하나 살펴보면서 넘어가보겠습니다.</p>

		<div id="disqus_thread"></div>
<script>

/**
*  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
*  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://has3ong-github-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	</div>



</section>


		</div>

	</div>

	<footer class="footer">

	<ul class="socials">
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://github.com/has3ong" target="_blank" class="socials__item__link" title="Github">
			<i class="fab fa-github" aria-hidden="true"></i>
		</a>
	</li>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<li class="socials__item">
		<a href="https://www.linkedin.com/in/%ED%95%98%EC%84%B1-%EA%B9%80-145aa21a0/" target="_blank" class="socials__item__link" title="Linkedin">
			<i class="fab fa-linkedin" aria-hidden="true"></i>
		</a>
	</li>
	
	
</ul>

	<div class="footer__copyright">
		<span>© 2020 Try</span>
		Has3ong
	</div>

</footer>


	<!-- Javascript Assets -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script src="/js/index-min.js"></script>

	
	<!-- Extra Footer JS Code -->
	
	


</body>

</html>