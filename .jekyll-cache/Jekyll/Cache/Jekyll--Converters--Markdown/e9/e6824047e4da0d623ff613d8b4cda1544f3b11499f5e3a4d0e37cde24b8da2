I"1<h2 id="1-install-mysql">1. Install MySQL</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt <span class="nb">install </span>mysql-server
</code></pre></div></div>

<p>설치가 되었는지 확인</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mysql <span class="nt">--version</span>
mysql  Ver 14.14 Distrib 5.7.28, <span class="k">for </span>Linux <span class="o">(</span>x86_64<span class="o">)</span> using  EditLine wrapper
</code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>systemctl status mysql
● mysql.service - MySQL Community Server
   Loaded: loaded <span class="o">(</span>/lib/systemd/system/mysql.service<span class="p">;</span> enabled<span class="p">;</span> vendor preset: enabled<span class="o">)</span>
   Active: active <span class="o">(</span>running<span class="o">)</span> since Thu 2019-11-28 05:39:18 UTC<span class="p">;</span> 1h 10min ago
 Main PID: 12846 <span class="o">(</span>mysqld<span class="o">)</span>
    Tasks: 30 <span class="o">(</span>limit: 2361<span class="o">)</span>
   CGroup: /system.slice/mysql.service
           └─12846 /usr/sbin/mysqld <span class="nt">--daemonize</span> <span class="nt">--pid-file</span><span class="o">=</span>/run/mysqld/mysqld.pid

Nov 28 05:39:18 ip-172-26-8-131 systemd[1]: Starting MySQL Community Server...
Nov 28 05:39:18 ip-172-26-8-131 systemd[1]: Started MySQL Community Server.
</code></pre></div></div>

<h2 id="2-configure-security">2. Configure Security</h2>

<p>새로운 MySQL 복사본을 설치할 때마다 MySQL 설치의 보안을 강화하기 위해 변경하는 기본 설정이 있습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>mysql_secure_installation
</code></pre></div></div>

<p>가장 먼저 비밀번호 확인 플러그인을 설정해야합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Securing the MySQL server deployment.

Connecting to MySQL using a blank password.

VALIDATE PASSWORD PLUGIN can be used to <span class="nb">test </span>passwords
and improve security. It checks the strength of password
and allows the <span class="nb">users </span>to <span class="nb">set </span>only those passwords which are
secure enough. Would you like to setup VALIDATE PASSWORD plugin?

Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No:
</code></pre></div></div>

<p>사용자가 원하는 비밀번호의 강도에 따라 루트의 보안 비밀번호를 설정할 수 있습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>There are three levels of password validation policy:

LOW    Length <span class="o">&gt;=</span> 8
MEDIUM Length <span class="o">&gt;=</span> 8, numeric, mixed <span class="k">case</span>, and special characters
STRONG Length <span class="o">&gt;=</span> 8, numeric, mixed <span class="k">case</span>, special characters and dictionary                  file

Please enter 0 <span class="o">=</span> LOW, 1 <span class="o">=</span> MEDIUM and 2 <span class="o">=</span> STRONG:
</code></pre></div></div>

<p>비밀번호 보안을 위해 선택한 번호를 입력하고 Enter를 누르십시오. 그러면 시스템은 새로운 root 암호를 묻습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Please <span class="nb">set </span>the password <span class="k">for </span>root here.

New password:

Re-enter new password:
</code></pre></div></div>

<p>그러면 시스템이 제공 한 암호의 강도를 표시하고 암호를 계속 사용할 것인지 묻습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Do you wish to <span class="k">continue </span>with the password provided?<span class="o">(</span>Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No<span class="o">)</span> :
</code></pre></div></div>

<p>이제 시스템에 질문이 하나씩 표시되며 질문에 대한 답변에 따라 시스템 보안을 설정할 수 있습니다.</p>

<p>첫 번째 질문은 익명의 테스트 사용자를 제거 할 것인지 묻습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>By default, a MySQL installation has an anonymous user,
allowing anyone to log into MySQL without having to have
a user account created <span class="k">for </span>them. This is intended only <span class="k">for
</span>testing, and to make the installation go a bit smoother.
You should remove them before moving into a production
environment.

Remove anonymous <span class="nb">users</span>? <span class="o">(</span>Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No<span class="o">)</span> :
</code></pre></div></div>

<p>두 번째 질문은 원격 시스템에서 루트 로그인을 허용하지 않을 것인지 묻습니다. 보안 시스템의 경우 루트는 로컬 호스트에서만 연결될 수 있어야하므로 일반적으로 선택해야합니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Normally, root should only be allowed to connect from
<span class="s1">'localhost'</span><span class="nb">.</span> This ensures that someone cannot guess at
the root password from the network.

Disallow root login remotely? <span class="o">(</span>Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No<span class="o">)</span> :
</code></pre></div></div>

<p>세 번째 질문은 시스템에서“test”라는 기본 MySQL 데이터베이스를 제거하고 해당 데이터베이스에 대한 액세스를 제거 할 것인지 묻습니다.</p>

<p>나중에 test 데이터베이스를 만들어도되니 삭제할게요.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>By default, MySQL comes with a database named <span class="s1">'test'</span> that
anyone can access. This is also intended only <span class="k">for </span>testing,
and should be removed before moving into a production
environment.


Remove <span class="nb">test </span>database and access to it? <span class="o">(</span>Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No<span class="o">)</span> :
</code></pre></div></div>

<p>마지막으로 위에서 구성된 모든 변경 사항을 적용하려면 시스템에서 권한 테이블을 다시로드해야합니다. y를 입력하면 모든 보안 변경 사항이 적용됩니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Reloading the privilege tables will ensure that all changes
made so far will take effect immediately.

Reload privilege tables now? <span class="o">(</span>Press y|Y <span class="k">for </span>Yes, any other key <span class="k">for </span>No<span class="o">)</span> :
</code></pre></div></div>

<h2 id="3-configuring-root-to-use-mysql-shell">3. Configuring Root to use MySQL shell</h2>

<p>보안 스크립트를 실행하는 동안 root의 비밀번호를 제공했습니다. 그러나이 사용자는 동일한 비밀번호를 사용하여 MySQL 쉘에 연결할 수 없습니다.인증 방법을 기본“auth_socket”에서“mysql_native_password”로 변경하여 MySQL 셸을 사용하도록 configure root를 변경할 수 있습니다.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">sudo </span>mysql
Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span><span class="nb">.</span>
Your MySQL connection <span class="nb">id </span>is 8
Server version: 5.7.28-0ubuntu0.18.04.4 <span class="o">(</span>Ubuntu<span class="o">)</span>

Copyright <span class="o">(</span>c<span class="o">)</span> 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="s1">'help;'</span> or <span class="s1">'\h'</span> <span class="k">for </span>help. Type <span class="s1">'\c'</span> to clear the current input statement.

mysql&gt; SELECT user,authentication_string,plugin,host FROM mysql.user<span class="p">;</span>
+------------------+-------------------------------------------+-----------------------+-----------+
| user             | authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+-----------------------+-----------+
| root             |                                           | auth_socket           | localhost |
| mysql.session    | <span class="k">*</span>THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| mysql.sys        | <span class="k">*</span>THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | <span class="k">*</span>1621A389402B4174C866ED1EF7850646AD205BC9 | mysql_native_password | localhost |
+------------------+-------------------------------------------+-----------------------+-----------+
4 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; ALTER USER <span class="s1">'root'</span>@<span class="s1">'localhost'</span> IDENTIFIED WITH mysql_native_password BY <span class="s1">'password'</span><span class="p">;</span>
Query OK, 0 rows affected <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; FLUSH PRIVILEGES<span class="p">;</span>
Query OK, 0 rows affected <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; SELECT user,authentication_string,plugin,host FROM mysql.user<span class="p">;</span>
+------------------+-------------------------------------------+-----------------------+-----------+
| user             | authentication_string                     | plugin                | host      |
+------------------+-------------------------------------------+-----------------------+-----------+
| root             | <span class="k">*</span>2470C0C06DEE42FD1618BB99005ADCA2EC9D1E19 | mysql_native_password | localhost |
| mysql.session    | <span class="k">*</span>THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| mysql.sys        | <span class="k">*</span>THISISNOTAVALIDPASSWORDTHATCANBEUSEDHERE | mysql_native_password | localhost |
| debian-sys-maint | <span class="k">*</span>1621A389402B4174C866ED1EF7850646AD205BC9 | mysql_native_password | localhost |
+------------------+-------------------------------------------+-----------------------+-----------+
4 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; <span class="nb">exit
</span>Bye
</code></pre></div></div>

<h2 id="start-mysql">Start MySQL</h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>mysql <span class="nt">-u</span> root <span class="nt">-p</span>
Enter password:
Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span><span class="nb">.</span>
Your MySQL connection <span class="nb">id </span>is 9
Server version: 5.7.28-0ubuntu0.18.04.4 <span class="o">(</span>Ubuntu<span class="o">)</span>

Copyright <span class="o">(</span>c<span class="o">)</span> 2000, 2019, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="s1">'help;'</span> or <span class="s1">'\h'</span> <span class="k">for </span>help. Type <span class="s1">'\c'</span> to clear the current input statement.

mysql&gt;
</code></pre></div></div>
:ET